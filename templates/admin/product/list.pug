extends ../layout.pug

block content
    .container
        section
            h1 Gestion des produits
        .d-flex.justify-content-end.mb-4
            a(href='/admin/product/add')
                button.btn.btn-primary Ajouter un produit


        if products.length > 0
            table.table.table-striped
                thead
                    tr
                        th(scope="col" style="width:1%;") #
                        th(scope="col") Designation
                        th(scope="col") Description
                        th(scope="col") Prix
                        th(scope="col" style="width:1%;")
                tbody
                    each product in products
                        tr
                            td(scope="row")  #{product._id}
                            td #{product.title}
                            td #{product.description.substr(0, 30)}...
                            td #{product.price.toFixed(2)} €
                            td(nowrap="nowrap")
                                a.mr-1(href='/admin/product/edit/' + product.id)
                                    button.btn.btn-primary 
                                        i.fas.fa-edit
                                a.confirm_delete(href='/admin/product/delete/' + product.id)
                                    button.btn.btn-danger
                                        i.fas.fa-trash
        else 
            .alert.alert-warning.mt-4 Aucun produit n'a été trouvé.
        endif